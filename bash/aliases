#!/bin/bash
OS=`os`

# Mac commands
if [[ $OS == 'macos' ]]
then
  alias allow='xattr -d com.apple.quarantine'
  alias ls='ls -G'
  alias lsa='ls -hal'
  alias toggle_desktop='toggle_default finder CreateDesktop'
  alias toggle_hidden_files='toggle_default finder AppleShowAllFiles'
  alias tss='take_screenshot'
fi

# Linux (Ubuntu, Debian, Mint,...)
if [[ $OS == 'linux' ]]
then
  # di = directory
  # fi = file
  # ln = symbolic link
  # pi = fifo file
  # so = socket file
  # bd = block (buffered) special file
  # cd = character (unbuffered) special file
  # or = symbolic link pointing to a non-existent file (orphan)
  # mi = non-existent file pointed to by a symbolic link (visible when you type ls -l)
  # ex = file which is executable (ie. has 'x' set in permissions).
  # *.rpm = files with the ending .rpm
  LS_COLORS=$LS_COLORS:'di=0;35:'; export LS_COLORS
  alias lsa='ls -hal --color=tty'
fi

alias be='bundle exec'
alias bundle_mysql2_openssl_fix='bundle config --local build.Mysql2 "--with-ldflags=-L/usr/local/opt/openssl/lib --with-cppflags=-I/usr/local/opt/openssl/include"'
alias bundle_therubyracer_fix='brew info v8@3.15 && bundle config build.therubyracer --with-v8-dir="$(brew --prefix v8@3.15)" --with-v8-include="$(brew --prefix v8@3.15)/include/" --with-v8-lib="$(brew --prefix v8@3.15)/lib/"'
alias clearcache='sudo dscacheutil -flushcache'
alias colors='for i in {0..255} ; do printf "\x1b[38;5;${i}mcolour${i}\n"; done'
alias ci='git ci-status'
alias dev='~/.bin/./tmux/open_project.sh'
alias devx='~/.bin/./tmux/close_project.sh'
alias ds='du -sh */'
alias fs='get_filesizes'
alias git-web='git instaweb --httpd=webrick'
alias gl-projects='gitlab projects --only=id,name_with_namespace'
alias gmdm='git_merge develop master'
alias gti='git'
alias gddf='git ls-files --deleted -z | xargs -0 git rm'
alias gdnf='git_delete_new_files'
alias migrate='~/.bin/rails/migrate'
alias mf='move_files'
alias mr='mysql_replace'
alias mysql-docker='mysql -h localhost -P 3306 --protocol=tcp'
alias mysqldump='mysqldump --set-gtid-purged=OFF' # MySQL 5.6 "global-transaction-error on dump"-fix
alias nano='vim'
alias redis='redis-server /usr/local/etc/redis.conf'
alias rsync='rsync --exclude-from=${HOME}/.bin/rsync-exclude-list.txt'
alias sar='search_and_replace'
alias ta='tmux attach'
alias vim='nvim'
alias vi='vim'
