#!/usr/bin/env bash
# shellcheck disable=SC2154
set -e

# TODO
# - [ ] Header indicating we're in a "special conflict edit"-mode.
# - [ ] Keymap to go to next diff in file (`/====`)
# - [ ] Keymap to "save and go to next buffer" (`!git add % | bd`)
main() {
  mapfile -t files < <(git st | grep UU | awk '{ print $2 }')

  if [[ ${#files[@]} -eq 0 ]]; then
    $print_status -i ok "No conflicts to resolve."
    exit 0
  fi

  $EDITOR "${files[@]}"
}

main "$@"
